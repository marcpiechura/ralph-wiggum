# Ralph Wiggum - AI Development Orchestrator

Generate the complete [Ralph Wiggum loop](https://github.com/ghuntley/how-to-ralph-wiggum) infrastructure for iterative AI-driven development.

## What is Ralph?

An iterative AI development loop where tasks are executed one at a time, with the agent figuring out what to do next by reading the plan file.

```
┌─────────────────────────────────────────────────────────────┐
│                    RALPH ORCHESTRATOR                        │
│  TypeScript CLI spawning Amp threads                        │
└─────────────────────────────────────────────────────────────┘
         │
         ├──▶ Thread: Planning (create plan from specs)
         │
         ├──▶ Thread: Build P0.1 ──┐
         ├──▶ Thread: Build P0.2   │ Connected in Thread Map
         │    ...                 ──┘
         │
         └──▶ Thread: Validation (final checks)
```

**Key features:**
- Native Amp thread management
- Thread map connectivity via URL mentions (no context pollution)
- Clean context per task
- Thread IDs tracked in `IMPLEMENTATION_PLAN.md`

## Installation

```bash
# Clone and install
git clone https://github.com/hmemcpy/ralph-wiggum
cd ralph-wiggum
./install.sh
```

Or manually:

```bash
cd sdk
bun install && bun run compile
mkdir -p ~/.local/bin && mv ralph ~/.local/bin/

# Ensure ~/.local/bin is in PATH
export PATH="$HOME/.local/bin:$PATH"
```

## Usage

### Quick Start

```bash
# In your project directory with specs/ folder
ralph auto              # Plan from specs, then build

# Or step by step
ralph plan              # Create IMPLEMENTATION_PLAN.md from specs/
ralph build             # Execute tasks from the plan
```

### With Options

```bash
ralph -p /path/to/project plan
ralph build -v --validation "pnpm run check"
ralph --help
```

### Using the Amp Skill

In an Amp session, use the skill to generate specs from feature docs:

```
/skill ralph docs/my-feature.md
```

Then run:

```bash
ralph build
```

## Project Setup

Ralph expects this structure:

```
myproject/
├── AGENTS.md                  # Project guidance for Amp
├── specs/                     # Feature specifications
│   └── feature.md
├── IMPLEMENTATION_PLAN.md     # Generated by Ralph
└── src/                       # Your source code
```

## Generated Files

| File | Purpose |
|------|---------|
| `specs/*.md` | Feature specs (one topic per file) |
| `IMPLEMENTATION_PLAN.md` | Prioritized task list with thread tracking |
| `PROMPT_plan.md` | Planning mode instructions (for skill) |
| `PROMPT_build.md` | Building mode instructions (for skill) |

## IMPLEMENTATION_PLAN.md Format

```markdown
# Implementation Plan

## Tasks

### P0: Core (must have)

- [ ] P0.1 Create user model
  - scope: src/models/user.ts
  - validation: npm run check
  - assigned_thread:
  - status: not_started

- [ ] P0.2 Add user API
  - scope: src/api/users.ts
  - validation: npm run check
  - assigned_thread:
  - status: not_started
  - depends_on: P0.1
```

## Core Principles

1. **Deterministic Setup** - Same files seed each loop
2. **One Task Per Iteration** - Maximize context for that task
3. **Backpressure** - Tests must pass before commit
4. **Plan Disposability** - Regenerate when off-track
5. **Search First** - Don't assume not implemented
6. **Clean Context** - No inherited cruft between tasks

## Project Structure

```
ralph-wiggum/
├── sdk/                    # Ralph CLI
│   ├── src/
│   │   ├── cli.ts
│   │   ├── orchestrator.ts
│   │   ├── amp-executor.ts
│   │   ├── plan-parser.ts
│   │   ├── prompts.ts
│   │   └── types.ts
│   ├── package.json
│   └── README.md
├── agents/                 # Agent-specific prompt templates
│   ├── claude/
│   └── amp/
├── common/                 # Shared documentation
├── commands/               # Claude Code plugin commands
├── skills/                 # Amp skill definitions
├── SKILL.md
├── install.sh
└── README.md
```

## Requirements

- [Bun](https://bun.sh) (for compilation)
- [Amp](https://ampcode.com) account

## Security Warning

Ralph runs autonomously with permissions bypassed. **Always run in a sandboxed environment** (Docker, VM, etc.) to protect credentials and sensitive files.

## License

MIT

## Credits

Based on [How to Ralph Wiggum](https://github.com/ghuntley/how-to-ralph-wiggum) by Geoffrey Huntley.
